# nODE Resource Monitor

![Python](https://img.shields.io/badge/python-3.x-blue)
![License: MIT](https://img.shields.io/badge/license-MIT-green)

The `Server_resource_mon_GITHUB.py` script is a powerful tool for monitoring resource usage (disk, memory, CPU) of specific nodes in a network. 
Designed for network operations environments, it connects to nodes via SSH, evaluates resource usage against predefined thresholds, 
and sends email alerts when thresholds are exceeded.

---

## Overview

This script provides a proactive approach to monitoring resource usage in network operations environments. By connecting to nodes via SSH, it ensures that critical resources are always within acceptable limits.

### Key Features:
- **Disk Usage Monitoring**: Checks disk partitions and reports usage above a threshold.
- **Memory Usage Monitoring**: Evaluates memory usage and alerts when it exceeds the limit.
- **CPU Usage Monitoring**: Monitors CPU utilization and notifies users of high usage.
- **Email Notifications**: Sends automated email alerts to predefined recipients.
- **Temporary File Handling**: Cleans up temporary files after execution.

---

## Requirements

- **Python**: Version 3.x
- **Libraries**: Install the `paramiko` library for SSH connections.
- **Email Server**: SMTP server configuration for sending notifications.
- **Node Access**: SSH access to target nodes.

---

## Infrastructure Setup

### **Infrastructure Layout**
1. **User PC/Laptop**:
   - Acts as the starting point to deploy and manage the script.
   - Requires network access to the Jump Server.

2. **Jump Server**:
   - **Requirements**:
     - Python installed with the `paramiko` library.
     - Configured email server to send alerts.
     - Network access to all target nodes (e.g., routers, switches, SBCs).
   - **Purpose**:
     - Acts as a secure bridge between the User PC/Laptop and network resources.

3. **Network Resources**:
   - Devices like routers, switches, and SBCs that allow SSH access from the Jump Server.

### **Infrastructure Diagram**

User PC/Laptop
       |
       v
Jump Server (Python + Email Server Configured)
       |
       v
Network Resources (Routers, Switches, SBCs, etc.)
```

---

## Installation

1. Clone the repository to the Jump Server:

   git clone https://github.com/sjairaj79/new-beginnning.git
   
2. Navigate to the script directory:

   cd new-beginnning
   
3. Install the required Python library:

   pip install paramiko


---

## Configuration

1. **Nodes**: Update the nodes list in the script with target node hostnames or IP addresses:
   
   nodes = ["XYY5605", "XYY5606"]
   
2. **Thresholds**: Set thresholds for disk, memory, and CPU usage:
   
   disk_threshold = 60
   memory_threshold = 60
   cpu_threshold = 60
   
3. **Credentials**: Update the username and password variables with SSH credentials for the nodes:
   
   username = "admin"
   password = "password"
   
4. **Email Configuration**: Ensure the Jump Server has a configured email server. Modify the recipient list in the script to match your operational team.

---

## Usage

To run the script manually:

python3 Server_resource_mon_GITHUB.py


---

## Automating Script Execution

### **Using crontab**
To run the script at regular intervals:
1. Open the crontab configuration:
   
   crontab -e
   
2. Add a new cron job to run the script every 30 minutes:
   
   */30 * * * * /usr/bin/python3 /path/to/Server_resource_mon_GITHUB.py
  
   Replace `/path/to/Server_resource_mon_GITHUB.py` with the full path to your script.

3. Save and exit.

### **Using tmux**
To keep the script running in a persistent terminal session:
1. Start a new tmux session:
   
   tmux new -s resource_monitor
   
2. Run the script inside the session:
   
   python3 /path/to/Server_resource_mon_GITHUB.py
   
3. Detach the session by pressing `Ctrl+b`, then `d`. The script will continue running.
4. To reattach the session:
   
   tmux attach -t resource_monitor
  

---

## Logs

During execution, the script temporarily saves usage data in files named `<node>_disk.txt` and `<node>_cpu.txt`. These files are automatically deleted after processing.

---

## Example Email Alert

Below is a sample email alert generated by the script:

Subject: Resource Alert: Node XYY5605
Body:
  Disk usage: 85% (threshold: 60%)
  Memory usage: 70% (threshold: 60%)
  CPU usage: 90% (threshold: 60%)
Action required: Please address the resource utilization on node XYY5605.


---

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

---


